<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/skeleton.css">
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script type="text/javascript" src="d3/d3.js"></script>
        <script type="text/javascript" src="js/jquery-2.1.1.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>

    </head>
    <body>

    <nav>
        <a href="https://github.com/keithyong/fibonacci-calc" target="_blank">
            <img src="images/GitHub-Mark-64px.png" height="42" id="github-logo-repo">
        </a>
    </nav>
    <div class="container mainprogram">
        <div class="row">
            <h1>Fibonacci Calculator</h1>
            <p>Why Project Euler is important.  </p>
        </div>
        
        <div class="row">
            <form><input class="u-full-width" type="text" id="numinput" placeholder="Try both ways with 40!"></input></form>
        </div>
        <div class="row">
            <button class="button-primary" onclick="runFastFib()">Fast Way</button>
            <button onclick="runSlowFib()">Slow Way</button>
        </div>
        <div class="row">
        <hr>
        </div>
        <p id="result"> </p>
        <p id="runningTime"> </p>
    </div>
    <div id="blog-page-one">
        <div class="container blog">   
            <hr>
            <h4>Why does this work?</h4>
            <p>A teacher or a book has problably shown us how to calculate the Fibonacci with recursion. But did you know that this recursive method can take years to find your answer given a large n?</p>

            <script src="https://gist.github.com/keithyong/a248316a6e7708cfeb98.js"></script>

            <p>The slower version repeats itself - a lot. Take a look at the recursion tree for <code>slowFib(13)</code>:</p>     

            <div id="recursionTreeOne"></div>

            <p>That's a lot of slowFib calls! Looking at the tree, we see that the recursive fibonacci function calls <code>slowFib(0) = 1</code> and <code>slowFib(1) = 1</code> exactly 13 times, <code>slowFib(2) = 2</code> exactly 5 times, and so on. Very cool pattern, but very resource intensive. There has to be a better way.</p>
        
            <p>Introducing a clever little trick called dynamic programming. Instead of calculating <code>slowFib(2)</code> five times, why not simply save the result of <code>slowFib(2)</code> into an array, then whenever the program needs to know what <code>slowFib(2)</code> is, simply grab it from the array? Array accessing is O(1) time so this is a very fast solution.</p>
            <p>Here is the fast fibonacci implementation I used for this website:</p>
            <script src="https://gist.github.com/keithyong/884a70ffb81deb7b2b0d.js"></script>
            <p>In the implementation, we use an integer array <code>f</code> to store the known Fibonacci numbers. So when <code>dynamicFib</code> finds the answer to <code>fib(7)</code> to be <code>13</code>, it stores <code>f[7] = 13</code>. Whenever <code>dynamicFib</code> wants to know <code>fib(7)</code>, it first checks to see if <code>f[7] != UNKOWN</code>. If we know that <code>f[7]</code> has been previously calculated, the program simply uses whatever is in <code>f[7]</code> as the answer to <code>fib[7]</code>, an O(1) operation!</p>
            <p>Now for an example. When the user calls <code>fib(7)</code>, the code firsts sets the zeroth element as 0, and the first element as 1 to get the ball rolling. 
            <p>By saving the results after computing it, the program no longer has to recalculate all of the repeated fibonacci numbers, and our recursion looks like this:</p>
            <div id="recursionTreeTwo"></div>
            <p>So much saved space! This was for <code>fib(13)</code>. Just imagine how much space dynamic programming saves for an operation like <code>fib(100)</code>.</p>
        </div>
    </div>
    <script type="text/javascript" src="js/script.js"></script>
    </body>
</html>
